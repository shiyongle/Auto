<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:context="http://www.springframework.org/schema/context" xmlns:p="http://www.springframework.org/schema/p"
	xmlns:mvc="http://www.springframework.org/schema/mvc" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:task="http://www.springframework.org/schema/task"
	xsi:schemaLocation="http://www.springframework.org/schema/beans
      http://www.springframework.org/schema/beans/spring-beans-3.2.xsd
      http://www.springframework.org/schema/context
      http://www.springframework.org/schema/context/spring-context.xsd
      http://www.springframework.org/schema/mvc
      http://www.springframework.org/schema/mvc/spring-mvc-3.2.xsd
      http://www.springframework.org/schema/task  
	  http://www.springframework.org/schema/task/spring-task-3.2.xsd ">
	  
	<!-- 注解驱动 -->
	<mvc:annotation-driven/>
	<!-- 扫描组件-->
	<context:component-scan base-package="com.**.appInterface"/>
	<context:component-scan base-package="com.**.controller"/>
	<context:component-scan base-package="com.**.pcWeb"/>
	<context:component-scan base-package="com.**.util"/>
	<!-- 视图解析器,解析JSP视图,默认使用JSTL标签 -->
	<bean id="viewResolver" class="org.springframework.web.servlet.view.InternalResourceViewResolver"></bean>
	
	<!-- 获取springDao 工具类 -->
  	<bean id="SpringContextUtils" class="com.pc.util.SpringContextUtils" />
  	
	<!-- 上传附件大小控制 -->
	<bean id="multipartResolver" class="org.springframework.web.multipart.commons.CommonsMultipartResolver">
         <property name="maxUploadSize">
             <value>1048576</value>
         </property>
     </bean>
 	<!--配置拦截器, 多个拦截器,顺序执行 -->    
	 <mvc:interceptors>    
	     <mvc:interceptor>    
	         <!-- 匹配的是url路径， 如果不配置或/**,将拦截所有的Controller -->  
	         <mvc:mapping path="/**" /> 
	         <!-- 不拦截一下url  url为注解文件路径 --> 
	       <!-- 
	          <mvc:exclude-mapping path="/app/protocol/findProtocol.do"/>  
	          <mvc:exclude-mapping path="/user/checkuser.do"/>
	          <mvc:exclude-mapping path="/app/user/reg.do"/>
	          <mvc:exclude-mapping path="/app/user/logon.do"/>
	          <mvc:exclude-mapping path="/app/user/getRegValidateVCodeTel.do"/>
	          <mvc:exclude-mapping path="/app/user/regValiCode.do"/>
	          <mvc:exclude-mapping path="/app/user/getFndValidateVCodeTel.do"/>
	          <mvc:exclude-mapping path="/app/user/checkLVC.do"/>
	          <mvc:exclude-mapping path="/app/user/changePWByLVC.do"/>
	          <mvc:exclude-mapping path="/app/protocol/findUnit.do"/>
	          <mvc:exclude-mapping path="/app/order/cycleorder.do "/>
	          <mvc:exclude-mapping path="/user/inviteReg.do"/>

		  <mvc:exclude-mapping path="/app/user/getInviteeListById.do"/>
		  <mvc:exclude-mapping path="/app/order/carRankingLoad.do"/>
	       --> 
	     <!-- 
		<mvc:exclude-mapping path="/pcWeb/user/getRegValidateVCodeTel.do"/> 
		<mvc:exclude-mapping path="/pcWeb/user/reg.do"/> 
		<mvc:exclude-mapping path="/pcWeb/user/logout.do"/> 
		<mvc:exclude-mapping path="/pcWeb/user/regValiCode.do"/> 
		<mvc:exclude-mapping path="/pcWeb/user/checkuser.do"/> 
		<mvc:exclude-mapping path="/pcWeb/user/logon.do"/> 
		<mvc:exclude-mapping path="/pcWeb/user/login.do"/>
		
		<mvc:exclude-mapping path="/pcWeb/**"/>
		<mvc:exclude-mapping path="pcWeb/**"/>
	     -->
	     	 <mvc:exclude-mapping path="/app/finance/rechargeRecord.do"/>		<!-- 支付预充查询接口 -->
             	 <mvc:exclude-mapping path="/app/version/findVersion.do"/>		<!-- 苹果APP版本查询接口 -->
        	 <mvc:exclude-mapping path="/app/appIndexImg/indexImgLoad.do"/>		<!-- 苹果APP轮播图接口 -->

	         <bean class="com.pc.interceptor.LoginInterceptor">
	         </bean>    
	     </mvc:interceptor>  
	     <!-- 当设置多个拦截器时，先按顺序调用preHandle方法，然后逆序调用每个拦截器的postHandle和afterCompletion方法 -->  
	 </mvc:interceptors>  
     
	</beans>